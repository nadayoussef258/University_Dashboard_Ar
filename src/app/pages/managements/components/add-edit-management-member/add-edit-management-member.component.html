<p-card class="m-0 p-2">
  @if (form) {
  <form method="post" class="grid grid-cols-12 md:gap-9" [formGroup]="form">
    <div class="form-col mt-2">
      <label class="text-middle mb-3">الحالة</label>

      <div class="flex gap-3 items-center">
        <p-toggleswitch formControlName="isLeader"></p-toggleswitch>

        <span
          class="border rounded-full font-semibold text-sm py-1 px-3 transition-all gap-2 duration-300 inline-flex items-center"
          [ngClass]="
        form.get('isLeader')?.value
          ? 'bg-blue-100 text-blue-700 border-blue-300'
          : 'bg-gray-100 text-gray-600 border-gray-300'
      ">
          <i class="text-base" [ngClass]="
          form.get('isLeader')?.value
            ? 'pi pi-star text-blue-500'
            : 'pi pi-user text-gray-500'
        "></i>
          {{ form.get('isLeader')?.value ? 'ادمن' : 'مستخدم' }}
        </span>
      </div>

      <div class="form-col my-4 flex items-center gap-2">
        <p-toggleswitch [(ngModel)]="allowEditManagement" [ngModelOptions]="{standalone: true}"
          (onChange)="toggleManagementEdit()">
        </p-toggleswitch>
        <label class="text-sm font-medium">هل تريد التعديل على عنوان الإدارة؟</label>
      </div>
      <div class="form-col">
        <label class="text-middle mb-2">{{ 'عنوان الادارة' }}</label>
        <app-prime-autocomplete [disabled]="pageType === 'edit' && !allowEditManagement" [field]="'pageId'"
          [selectedOption]="selectedManagement" [suggestions]="filteredManagements" [formGroup]="form"
          (onSelect)="onManagementSelect($event)" [lazy]="false"
          (handleMethod)="getManagements($event)"></app-prime-autocomplete>
      </div>
    </div>

  </form>
  }
</p-card>

@if (form) {
<app-submit-buttons [isSubmitDisabled]="form.invalid" [submitButtonText]="pageType === 'add' ? 'Submit' : 'Save'"
  (submit)="submit()" (cancel)="closeDialog()">
</app-submit-buttons>
}
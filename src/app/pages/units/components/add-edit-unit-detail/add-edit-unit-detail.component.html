<p-card class="m-0 p-2">
  @if (form) {
    <form method="post" class="grid gap-4 grid-cols-12" [formGroup]="form">
      <div class="form-col">
        <app-prime-input-text
          [formGroup]="form"
          controlName="title"
          [label]="'PAGES.UNIT_DETAILS.FORM.TITLE'"
        >
        </app-prime-input-text>
      </div>

      <div class="form-col">
        <app-prime-input-text
          [formGroup]="form"
          controlName="description"
          [label]="'PAGES.UNIT_DETAILS.FORM.DESCRIPTION'"
        >
        </app-prime-input-text>
      </div>

      <div class="col-span-12">
        <app-prime-input-text
          [formGroup]="form"
          controlName="unitPlace"
          [label]="'PAGES.UNIT_DETAILS.FORM.UNIT_PLACE'"
          [inputType]="'textarea'"
        >
        </app-prime-input-text>

        @if ((pageType !== "add" && unitId) || !unitId) {
          <div class="my-4 form-col">
            <label class="text-middle mb-2">
              {{ "PAGES.SHARE_FORM.UNIT" | translate }}
            </label>
            <app-prime-autocomplete
              [disabled]="!!unitId"
              [field]="'page.title'"
              [selectedOption]="selectedUnit"
              [suggestions]="filteredUnits"
              [formGroup]="form"
              (onSelect)="onUnitSelect($event)"
              [lazy]="false"
              (handleMethod)="getUnits($event)"
            ></app-prime-autocomplete>
          </div>
        }
      </div>
    </form>
  }
</p-card>

@if (form) {
  <app-submit-buttons
    [isSubmitDisabled]="form.invalid"
    [submitBtnLabel]="pageType === 'add' ? 'ACTIONS.SUBMIT' : 'ACTIONS.SAVE'"
    (submit)="submit()"
    (cancel)="redirect()"
  />
}

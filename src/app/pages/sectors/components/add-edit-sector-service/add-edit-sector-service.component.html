<p-card class="m-0 p-2">
  @if (form) {
    <form method="post" class="grid gap-4 grid-cols-12" [formGroup]="form">
      <div class="form-col">
        <app-prime-input-text
          [formGroup]="form"
          controlName="name"
          [label]="'PAGES.SECTOR_SERVICES.FORM.NAME'"
        >
        </app-prime-input-text>
      </div>

      <div class="form-col">
        <app-prime-input-text
          [formGroup]="form"
          controlName="duration"
          [label]="'PAGES.SECTOR_SERVICES.FORM.DURATION'"
        >
        </app-prime-input-text>
      </div>

      <div class="form-col">
        <app-prime-input-text
          [formGroup]="form"
          controlName="category"
          [label]="'PAGES.SECTOR_SERVICES.FORM.CATEGORY'"
        >
        </app-prime-input-text>
      </div>

      <div class="form-col">
        <app-prime-input-text
          [formGroup]="form"
          controlName="fees"
          contentType="number"
          [label]="'PAGES.SECTOR_SERVICES.FORM.FEES'"
        >
        </app-prime-input-text>
      </div>

      <div class="form-col">
        <app-prime-input-text
          [formGroup]="form"
          controlName="applicationUrl"
          [label]="'PAGES.SECTOR_SERVICES.FORM.APPLICATION_URL'"
        >
        </app-prime-input-text>
      </div>

      <div class="form-col">
        <app-prime-input-text
          [formGroup]="form"
          controlName="downloadUrl"
          [label]="'PAGES.SECTOR_SERVICES.FORM.DOWNLOAD_URL'"
        >
        </app-prime-input-text>
      </div>

      <div class="form-col">
        <app-prime-input-text
          [formGroup]="form"
          controlName="contactPerson"
          [label]="'PAGES.SECTOR_SERVICES.FORM.CONTACT_PERSON'"
        >
        </app-prime-input-text>
      </div>

      <div class="form-col">
        <app-prime-input-text
          [formGroup]="form"
          controlName="contactPhone"
          [label]="'PAGES.SECTOR_SERVICES.FORM.CONTACT_PHONE'"
        >
        </app-prime-input-text>
      </div>

      <div class="col-span-12">
        <app-prime-input-text
          [formGroup]="form"
          controlName="details"
          [label]="'PAGES.SECTOR_SERVICES.FORM.DETAILS'"
          [inputType]="'textarea'"
        >
        </app-prime-input-text>
      </div>

      @if ((pageType !== "add" && sectorId) || !sectorId) {
        <div class="form-col">
          <label class="text-middle mb-2">
            {{ "PAGES.SHARE_FORM.SECTOR" | translate }}
          </label>
          <app-prime-autocomplete
            [disabled]="!!sectorId"
            [field]="'name'"
            [selectedOption]="selectedSector"
            [suggestions]="filteredSectors"
            [formGroup]="form"
            (onSelect)="onSectorSelect($event)"
            [lazy]="false"
            (handleMethod)="getSectors($event)"
          ></app-prime-autocomplete>
        </div>

        <div class="form-col ms-0! md:ms-10!">
          <label class="text-middle mb-3">
            {{ "PAGES.SECTOR_SERVICES.FORM.IS_ONLINE.TITLE" | translate }}
          </label>
          <div class="flex gap-3 items-center">
            <p-toggleswitch formControlName="isOnline"></p-toggleswitch>
            <span
              class="border rounded-full font-semibold text-sm py-1 px-3 transition-all gap-2 duration-300 inline-flex items-center"
              [ngClass]="
                form.get('isOnline')?.value
                  ? 'bg-blue-100 text-green-700 border-blue-300'
                  : 'bg-gray-100 text-red-600 border-gray-300'
              "
            >
              <i
                class="text-base"
                [ngClass]="
                  form.get('isOnline')?.value
                    ? 'pi pi-star text-green-500'
                    : 'pi pi-user text-red-500'
                "
              ></i>
              {{
                form.get("isOnline")?.value
                  ? ("PAGES.SECTOR_SERVICES.FORM.IS_ONLINE.ONLINE" | translate)
                  : ("PAGES.SECTOR_SERVICES.FORM.IS_ONLINE.OFFLINE" | translate)
              }}
            </span>
          </div>
        </div>
      }
    </form>
  }
</p-card>

@if (form) {
  <app-submit-buttons
    [isSubmitDisabled]="form.invalid"
    [submitBtnLabel]="pageType === 'add' ? 'ACTIONS.SUBMIT' : 'ACTIONS.SAVE'"
    (submit)="submit()"
    (cancel)="redirect()"
  />
}

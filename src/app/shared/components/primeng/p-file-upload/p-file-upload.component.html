@if (formGroup) {
<div class="card">
  <p-toast />
  <label class="block font-semibold mb-2">{{ label }}</label>

  <p-fileupload name="files[]" [url]="uploadUrl" [multiple]="multiple" accept="image/*" maxFileSize="2000000"
    (onSelect)="onSelect($event)" (onUpload)="onUpload()">
    <ng-template #content>
      <div class="flex flex-wrap gap-4 mt-4">
        <div *ngFor="let file of uploadedFiles; let i = index"
          class="p-3 border rounded-md flex flex-col items-center gap-2 w-40">
          <img *ngIf="file.fileObject" [src]="file.fileObject.objectURL" alt="{{ file.fileName }}" width="100"
            height="60" />
          <span class="text-sm text-center truncate w-full">{{
            file.fileName
            }}</span>
          <small>{{ file.attachmentDisplaySize }}</small>
          <p-badge value="Ready" severity="info" />
          <p-button icon="pi pi-times" (click)="onRemove(file, i)" [rounded]="true" [outlined]="true" severity="danger"
            size="small" />
        </div>
      </div>
    </ng-template>

    <ng-template #empty>
      <div class="text-center text-gray-500 py-6">
        <i class="pi pi-cloud-upload text-4xl mb-3"></i>
        <p>اسحب الصور هنا أو اضغط لاختيار الملفات</p>
      </div>
    </ng-template>
  </p-fileupload>
</div>


}